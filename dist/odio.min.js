var CameraControl=function(e){this.camera=e,this.isMoving=!1,this.bounds=new scintilla.BoundingBox(e.bounds);var s={x:0,y:0},t={x:0,y:0},a=0;this.move=function(e,i){this.isMoving=!0,t.x=this.camera.x,t.y=this.camera.y,s.x=t.x+e,s.y=t.y+i,a=0},this.update=function(e){!1!==this.isMoving&&(this.bounds.copy(this.camera.bounds),this.bounds.decrease(64,64),this.bounds.move(64,64),1<=(a+=e/.5)?(this.camera.position.set(s.x,s.y),a=0,this.isMoving=!1):(this.camera.x=scintilla.Math.lerp(t.x,s.x,a),this.camera.y=scintilla.Math.lerp(t.y,s.y,a)))}},GameScene=function(){var t,a,n;this.start=function(){a=this.create.rectangle(),(n=a.modules.get("render")).width=64,n.height=64,a.position.set(VIEW.w/2-32,VIEW.h/2-32),t=new CameraControl(this.camera)},this.update=function(e){if(!1===t.isMoving){var i=this.key.pressed(scintilla.KeyCode.Down)-this.key.pressed(scintilla.KeyCode.Up),s=this.key.pressed(scintilla.KeyCode.Right)-this.key.pressed(scintilla.KeyCode.Left);0!==i?t.move(0,64*i):0!==s&&t.move(64*s,0)}t.update(e),n.bounds.intersects(t.bounds)||(a.y=t.camera.y)}},VIEW={w:960,h:640},config={width:VIEW.w,height:VIEW.h,parent:"body",debug:!0,pixelated:!1,roundPixels:!1},game=new scintilla.Game(config);game.scene.add("game",GameScene),game.scene.set("game");